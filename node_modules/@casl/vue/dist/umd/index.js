!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@casl/ability")):"function"==typeof define&&define.amd?define(["exports","@casl/ability"],e):e((t.casl=t.casl||{},t.casl.vue={}),t.casl)}(this,function(t,n){"use strict";var e={name:"Can",functional:!0,props:{I:String,do:String,a:[String,Function],of:[String,Function,Object],this:[String,Function,Object],on:[String,Function,Object],not:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,r=(n.I||n.do||"").split(" "),a=r[0],l=r[1],u=n.of||n.a||n.this||n.on;if(!a)throw new Error("[Vue Can]: neither `I` nor `do` property exist");if(!u)throw new Error("[Vue Can]: neither `of` nor `a` nor `this` nor `on` property exist");return n.not^o.$can(a,u,l)?i:null}},r="undefined"==typeof Symbol?"__w"+Date.now():Symbol("vue.watcher");t.Can=e,t.abilitiesPlugin=function(o,t){var e=t||new n.Ability([]);Object.defineProperty(o.prototype,"$ability",{writable:!0,value:e}),o.mixin({beforeCreate:function(){var t=this.$options,e=t.ability,n=t.parent;e?this.$ability=e:n&&n.$ability&&(this.$ability=n.$ability)},methods:{$can:function(){var t,e,n=this.$ability,i=n[r]?n[r]:(t=n,e=new o({data:{rules:[]}}),t.on("updated",function(t){e.rules=t.rules}),t[r]=e);return i.rules=i.rules,n.can.apply(n,arguments)}}})},Object.defineProperty(t,"__esModule",{value:!0})});
